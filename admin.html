<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gest√£o Exclusiva Noivas | Painel de Controle</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        :root { --gold: #b89754; --dark: #1a1a1a; --off-white: #fdfaf7; --red: #ff4d4d; --green: #2ecc71; --yellow: #f1c40f; }
        body { font-family: 'Garamond', serif; background-color: var(--off-white); padding: 20px; color: var(--dark); }
        
        /* ESTILO TELA DE LOGIN */
        #loginOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--off-white); z-index: 9999;
            display: flex; justify-content: center; align-items: center;
        }
        .login-box {
            background: white; padding: 50px; border-top: 4px solid var(--gold);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; width: 100%; max-width: 350px;
        }
        .login-box input {
            width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd;
            font-family: 'Garamond', serif; font-size: 16px; box-sizing: border-box;
        }
        
        /* CONTE√öDO DO PAINEL (ESCONDIDO INICIALMENTE) */
        #painelConteudo { display: none; }

        .container { max-width: 1100px; margin: auto; background: white; padding: 40px; border-top: 5px solid var(--gold); box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .header-admin { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 20px; margin-bottom: 20px; }
        h1 { text-transform: uppercase; letter-spacing: 3px; font-size: 20px; margin: 0; }
        
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .tab-btn { background: none; border: none; padding: 10px 20px; cursor: pointer; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: #999; border-bottom: 2px solid transparent; transition: 0.3s; }
        .tab-btn.active { color: var(--gold); border-bottom: 2px solid var(--gold); font-weight: bold; }

        .filter-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: #f9f9f9; padding: 15px; border-radius: 4px; }
        .filter-group { display: flex; align-items: center; gap: 10px; font-size: 13px; }
        .month-select { padding: 5px; border: 1px solid #ccc; font-family: 'Garamond', serif; }

        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        th { text-align: left; background: #f9f9f9; padding: 12px; border-bottom: 2px solid var(--gold); text-transform: uppercase; font-size: 11px; }
        td { padding: 12px; border-bottom: 1px solid #eee; }
        
        .status-pendente { color: #d97706; font-weight: bold; }
        .status-confirmado { color: #059669; font-weight: bold; }
        .status-recusado { color: #dc2626; font-weight: bold; }
        
        .btn { padding: 8px 12px; border: none; cursor: pointer; font-size: 10px; text-transform: uppercase; letter-spacing: 1.2px; color: white; transition: 0.3s; }
        .btn-info { background: #3b82f6; margin-right: 5px; }
        .btn-confirmar { background: #10b981; margin-right: 5px; }
        .btn-recusar { background: #ef4444; }
        .btn-novo { background: var(--dark); padding: 12px 20px; font-size: 12px; letter-spacing: 2px; }
        .btn-expediente { background: var(--gold); }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 40px; width: 90%; max-width: 550px; border-top: 4px solid var(--gold); position: relative; max-height: 95vh; overflow-y: auto; text-align: center; }
        .close-modal { position: absolute; top: 15px; right: 20px; cursor: pointer; font-size: 24px; color: #999; }
        
        .section-title { text-align: left; font-size: 11px; text-transform: uppercase; letter-spacing: 2.5px; color: var(--gold); margin-top: 30px; margin-bottom: 5px; font-weight: bold; }
        label { display: block; text-align: left; margin-top: 20px; font-size: 11px; text-transform: uppercase; letter-spacing: 1.2px; color: #222; font-weight: 600; }
        form input, form select { width: 100%; padding: 10px 0; margin-top: 5px; border: none; border-bottom: 1px solid #ccc; background: transparent; font-size: 16px; outline: none; text-align: left; }
        .grid-form { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }

        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; margin-top: 10px; background: #eee; padding: 5px; }
        .cal-day { background: white; min-height: 90px; padding: 8px; font-size: 12px; cursor: pointer; border: 1px solid #ddd; text-align: left; display: flex; flex-direction: column; justify-content: space-between; }
        .cal-header { font-weight: bold; background: var(--dark); color: white; padding: 10px 0; font-size: 10px; text-align: center; }
        .dia-fechado { background-color: var(--red) !important; color: white; }
        .dia-longo { background-color: var(--green) !important; color: white; }
        .dia-curto { background-color: var(--yellow) !important; color: #333; }
        .dia-padrao { background-color: var(--off-white); }
        .agendamento-count { background: rgba(0,0,0,0.1); border-radius: 10px; padding: 2px 6px; font-size: 9px; align-self: flex-end; font-weight: bold; }

        .info-card-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; margin-top: 20px; }
        .info-card-item { border-bottom: 1px solid #f5f5f5; padding-bottom: 5px; }
        .info-card-label { font-size: 9px; text-transform: uppercase; color: var(--gold); font-weight: bold; display: block; }
        .header-perfil { border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
        .header-perfil h2 { margin: 0; text-transform: uppercase; letter-spacing: 2px; font-size: 18px; color: var(--dark); }
        .header-perfil p { margin: 5px 0 0 0; color: #7a5d24; font-weight: bold; font-style: italic; font-size: 15px; }
    </style>
</head>
<body>

<div id="loginOverlay">
    <div class="login-box">
        <h2 style="text-transform: uppercase; letter-spacing: 2px; font-size: 18px;">Acesso Restrito</h2>
        <p style="font-size: 12px; color: #666; margin-bottom: 20px;">Exclusiva Noivas - Gest√£o</p>
        <input type="text" id="userLogin" placeholder="Usu√°rio">
        <input type="password" id="passLogin" placeholder="Senha">
        <button class="btn btn-novo" style="width: 100%; margin-top: 10px;" onclick="verificarLogin()">Entrar no Painel</button>
    </div>
</div>

<div id="painelConteudo">
    <div class="container">
        <div class="header-admin">
            <h1>Gest√£o Exclusiva Noivas</h1>
            <div style="display:flex; gap:10px;">
                <button class="btn btn-expediente" onclick="abrirModalExpediente()">üóìÔ∏è Calend√°rio de Expediente</button>
                <button class="btn btn-novo" onclick="abrirModalCadastro()">+ Nova Reserva Manual</button>
            </div>
        </div>

        <div class="filter-bar">
            <div class="tabs">
                <button class="tab-btn active" onclick="filtrarStatus('pendente', this)">Pendentes</button>
                <button class="tab-btn" onclick="filtrarStatus('confirmado', this)">Confirmados</button>
                <button class="tab-btn" onclick="filtrarStatus('recusado', this)">Recusados</button>
            </div>
            <div class="filter-group">
                <label style="margin:0">M√™s Ref:</label>
                <select id="filtroMes" class="month-select" onchange="carregarDados();">
                    <option value="00">Janeiro</option><option value="01" selected>Fevereiro</option><option value="02">Mar√ßo</option>
                    <option value="03">Abril</option><option value="04">Maio</option><option value="05">Junho</option>
                    <option value="06">Julho</option><option value="07">Agosto</option><option value="08">Setembro</option>
                    <option value="09">Outubro</option><option value="10">Novembro</option><option value="11">Dezembro</option>
                </select>
            </div>
        </div>
        
        <table>
            <thead><tr><th>Data/Hora</th><th>Noiva</th><th>WhatsApp</th><th>Status</th><th>A√ß√µes</th></tr></thead>
            <tbody id="listaCorpo"></tbody>
        </table>
    </div>
</div>

<div id="modalExpediente" class="modal"><div class="modal-content" style="max-width: 900px;"><span class="close-modal" onclick="fecharModais()">&times;</span><h2 style="text-transform: uppercase; letter-spacing: 3px;">Calend√°rio de Trabalho</h2><div style="margin: 20px 0; display: flex; justify-content: center; align-items: center; gap: 15px;"><label style="margin:0">Visualizar M√™s:</label><select id="filtroMesCalendario" class="month-select" onchange="gerarCalendarioVisivel()"><option value="00">Janeiro</option><option value="01" selected>Fevereiro</option><option value="02">Mar√ßo</option><option value="03">Abril</option><option value="04">Maio</option><option value="05">Junho</option><option value="06">Julho</option><option value="07">Agosto</option><option value="08">Setembro</option><option value="09">Outubro</option><option value="10">Novembro</option><option value="11">Dezembro</option></select></div><div class="calendar-grid"><div class="cal-header">DOM</div><div class="cal-header">SEG</div><div class="cal-header">TER</div><div class="cal-header">QUA</div><div class="cal-header">QUI</div><div class="cal-header">SEX</div><div class="cal-header">S√ÅB</div></div><div id="corpoCalendario" class="calendar-grid" style="margin-top:0;"></div><button class="btn" style="background:var(--dark); margin-top:30px; padding:15px 40px;" onclick="fecharModais()">Sair do Calend√°rio</button></div></div>
<div id="modalDiaEspecial" class="modal"><div class="modal-content"><span class="close-modal" onclick="fecharModais()">&times;</span><h3 id="tituloDiaEspecial">-</h3><label>Configura√ß√£o do Dia</label><select id="e_status" onchange="toggleInputsEspeciais()"><option value="padrao">Seguir Padr√£o do Sistema</option><option value="fechado">Bloquear (Atelier Fechado)</option><option value="especial">Hor√°rio Especial / Evento</option></select><div id="divHorariosEspeciais" style="display:none;"><div class="grid-form"><div><label>Hor√°rio In√≠cio</label><input type="text" id="e_inicio" placeholder="09:30"></div><div><label>Hor√°rio Fim</label><input type="text" id="e_fim" placeholder="22:00"></div></div></div><button class="btn btn-novo" style="width:100%; margin-top:30px; padding:15px;" onclick="salvarConfigDia()">Salvar e Sair</button></div></div>
<div id="modalDetalhes" class="modal"><div class="modal-content"><span class="close-modal" onclick="fecharModais()">&times;</span><div class="header-perfil"><h2 id="detalheNome">-</h2><p id="detalheData">-</p></div><div id="detalhesNoiva" class="info-card-grid"></div><button class="btn" style="background:var(--dark); margin-top:30px; width:100%; padding:15px;" onclick="fecharModais()">Fechar Perfil</button></div></div>
<div id="modalCadastro" class="modal"><div class="modal-content"><span class="close-modal" onclick="fecharModais()">&times;</span><h2 style="text-transform: uppercase; letter-spacing: 3px; font-size: 18px; margin-bottom: 5px;">Reserva Manual</h2><p style="font-style: italic; color: #888; font-size: 13px;">Lan√ßamento Interno de Agenda</p><form id="formManual"><div class="section-title">Dados do Agendamento</div><div class="grid-form"><div><label>Data</label><input type="date" id="m_data" required onchange="buscarOcupacaoManual()"></div><div><label>Hora</label><select id="m_hora" required><option value="">Escolha a data...</option></select></div></div><div class="section-title">Sua Hist√≥ria</div><label>Nome Completo</label><input type="text" id="m_nome" required><div class="grid-form"><div><label>CPF</label><input type="text" id="m_cpf" maxlength="14" oninput="mascaraCPF(this)"></div><div><label>WhatsApp</label><input type="text" id="m_tel" maxlength="15" oninput="mascaraTel(this)" required></div></div><div class="grid-form"><div><label>Cidade</label><input type="text" id="m_cidade"></div><div><label>Data Casamento</label><input type="date" id="m_casamento"></div></div><label>Instagram (@noiva)</label><input type="text" id="m_insta" placeholder="@exemplo"><div class="section-title">A Escolha</div><label>Finalidade</label><select id="m_finalidade"><option value="Cerimonial">Cerimonial</option><option value="Civil">Civil</option><option value="Ambos">Ambos</option></select><div class="grid-form"><div><label>Refer√™ncias?</label><select id="m_refs"><option value="Sim">Sim</option><option value="N√£o">N√£o</option></select></div><div><label>Outras Lojas?</label><select id="m_outras"><option value="N√£o">N√£o</option><option value="Sim">Sim</option></select></div></div><label>Investimento no Sonho</label><input type="text" id="m_orcamento" oninput="mascaraMoeda(this)" placeholder="R$ 0,00"><button type="button" class="btn btn-novo" style="width:100%; margin-top:30px;" onclick="salvarManual()">Confirmar na Agenda</button></form></div></div>

<script>
    // FUN√á√ÉO DE LOGIN
    function verificarLogin() {
        const user = document.getElementById('userLogin').value;
        const pass = document.getElementById('passLogin').value;
        if(user === "Exclusiva" && pass === "Gael2025") {
            document.getElementById('loginOverlay').style.display = "none";
            document.getElementById('painelConteudo').style.display = "block";
            carregarDados();
        } else {
            alert("Credenciais incorretas.");
        }
    }

    const firebaseConfig = { apiKey: "AIzaSyC8MacELfK0_avvpWIWBHZpJO_WYqhjOaE", authDomain: "exclusiva-noivas---agendamento.firebaseapp.com", databaseURL: "https://exclusiva-noivas---agendamento-default-rtdb.firebaseio.com", projectId: "exclusiva-noivas---agendamento", storageBucket: "exclusiva-noivas---agendamento.firebasestorage.app", messagingSenderId: "891467475836", appId: "1:891467475836:web:9565af78e44e9d6d53d2f9" };
    firebase.initializeApp(firebaseConfig); const database = firebase.database();

    let statusAtual = 'pendente';
    let dataSelecionadaExpediente = "";

    function mascaraCPF(i) { let v = i.value.replace(/\D/g, ""); v = v.replace(/(\d{3})(\d)/, "$1.$2").replace(/(\d{3})(\d)/, "$1.$2").replace(/(\d{3})(\d{1,2})$/, "$1-$2"); i.value = v; }
    function mascaraTel(i) { let v = i.value.replace(/\D/g, ""); v = v.replace(/^(\d{2})(\d)/g, "($1) $2").replace(/(\d)(\d{4})$/, "$1-$2"); i.value = v; }
    function mascaraMoeda(i) { let v = i.value.replace(/\D/g, ""); v = (Number(v)/100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); i.value = v; }

    function filtrarStatus(status, btn) {
        statusAtual = status;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        carregarDados();
    }

    function carregarDados() {
        const mesFiltro = document.getElementById('filtroMes').value;
        database.ref('agendamentos').on('value', (snapshot) => {
            const corpo = document.getElementById('listaCorpo'); corpo.innerHTML = "";
            let agendamentos = [];
            snapshot.forEach(c => { 
                let d = c.val();
                const statusAtende = (d.status === statusAtual);
                const mesAgendamento = new Date(d.dataISO + "T00:00:00").getMonth().toString().padStart(2, '0');
                const mesAtende = (statusAtual === 'pendente') ? true : (mesAgendamento === mesFiltro);
                if (statusAtende && mesAtende) agendamentos.push({key: c.key, ...d}); 
            });
            agendamentos.reverse().forEach(d => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td>${d.data} √†s ${d.hora}</td><td>${d.nome}</td><td>${d.tel}</td><td class="status-${d.status}">${d.status.toUpperCase()}</td>
                <td><button class="btn btn-info" onclick="verDetalhes('${encodeURIComponent(JSON.stringify(d))}')">Info</button><button class="btn btn-confirmar" onclick="mudarStatus('${d.key}', 'confirmado')">OK</button><button class="btn btn-recusar" onclick="mudarStatus('${d.key}', 'recusado')">X</button></td>`;
                corpo.appendChild(tr);
            });
        });
    }

    function abrirModalExpediente() { 
        document.getElementById('filtroMesCalendario').value = document.getElementById('filtroMes').value;
        document.getElementById('modalExpediente').style.display = "flex"; 
        gerarCalendarioVisivel(); 
    }
    
    function gerarCalendarioVisivel() {
        const mes = parseInt(document.getElementById('filtroMesCalendario').value);
        const ano = 2026;
        const primeiroDia = new Date(ano, mes, 1).getDay();
        const diasNoMes = new Date(ano, mes + 1, 0).getDate();
        const corpo = document.getElementById('corpoCalendario');
        corpo.innerHTML = "";

        Promise.all([
            database.ref('expediente/config').once('value'),
            database.ref('agendamentos').once('value')
        ]).then(([snapConfig, snapAgend]) => {
            const configs = snapConfig.val() || {};
            const agendamentos = snapAgend.val() || {};
            let contagemPorData = {};
            Object.values(agendamentos).forEach(a => { if(a.status === 'confirmado') contagemPorData[a.dataISO] = (contagemPorData[a.dataISO] || 0) + 1; });

            for (let i = 0; i < primeiroDia; i++) corpo.innerHTML += `<div style="background:none; border:none;"></div>`;
            for (let dia = 1; dia <= diasNoMes; dia++) {
                const dataISO = `${ano}-${(mes + 1).toString().padStart(2, '0')}-${dia.toString().padStart(2, '0')}`;
                const configDia = configs[dataISO] || { status: 'padrao' };
                const qtd = contagemPorData[dataISO] || 0;
                const dataObj = new Date(dataISO + "T00:00:00");
                const ds = dataObj.getDay();
                let classe = "dia-padrao"; let horarioLabel = "09:30 - 17:00";

                if (configDia.status === 'fechado' || ds === 0) { classe = "dia-fechado"; horarioLabel = "FECHADO"; }
                else if (configDia.status === 'especial') { classe = "dia-longo"; horarioLabel = `${configDia.inicio} - ${configDia.fim}`; }
                else if (ds === 6) {
                    const sabadoNoMes = Math.ceil(dia / 7);
                    if (sabadoNoMes <= 2) { classe = "dia-longo"; horarioLabel = "09:00 - 16:00"; }
                    else { classe = "dia-curto"; horarioLabel = "09:00 - 12:00"; }
                }
                corpo.innerHTML += `<div class="cal-day ${classe}" onclick="ajustarDia('${dataISO}')"><div><b>${dia}</b><br><span style="font-size:8px; font-weight:bold;">${horarioLabel}</span></div><span class="agendamento-count">${qtd} agend.</span></div>`;
            }
        });
    }

    function ajustarDia(data) {
        dataSelecionadaExpediente = data;
        document.getElementById('tituloDiaEspecial').innerText = "Ajustar Expediente: " + data.split('-').reverse().join('/');
        document.getElementById('modalDiaEspecial').style.display = "flex";
    }

    function toggleInputsEspeciais() {
        const val = document.getElementById('e_status').value;
        document.getElementById('divHorariosEspeciais').style.display = (val === 'especial') ? 'block' : 'none';
    }

    function salvarConfigDia() {
        const status = document.getElementById('e_status').value;
        const config = { status: status };
        if (status === 'especial') { config.inicio = document.getElementById('e_inicio').value; config.fim = document.getElementById('e_fim').value; }
        database.ref('expediente/config/' + dataSelecionadaExpediente).set(config).then(() => {
            alert("Configura√ß√£o salva com sucesso!"); document.getElementById('modalDiaEspecial').style.display = "none"; gerarCalendarioVisivel();
        });
    }

    function buscarOcupacaoManual() { const dataSel = document.getElementById('m_data').value; database.ref('agendamentos').orderByChild('dataISO').equalTo(dataSel).once('value', (snap) => { let ocupados = []; snap.forEach((c) => { if (c.val().status !== "recusado") ocupados.push(c.val().hora); }); gerarHorariosManual(ocupados); }); }
    function gerarHorariosManual(ocupados) { const select = document.getElementById('m_hora'); select.innerHTML = ""; const dataObj = new Date(document.getElementById('m_data').value + "T00:00:00"); const ds = dataObj.getDay(); let lista = []; if (ds === 0) { select.innerHTML = "<option>Fechado</option>"; return; } if (ds >= 1 && ds <= 5) for (let h = 9.5; h <= 17; h += 0.5) lista.push(formatarHora(h)); else { const diaMes = new Date(document.getElementById('m_data').value + "T00:00:00").getDate(); let lim = (diaMes <= 14) ? 16 : 12; for (let h = 9; h <= lim; h += 1) lista.push(formatarHora(h)); } lista.forEach(h => { let opt = document.createElement("option"); opt.value = h; let bloqueado = false; ocupados.forEach(oc => { if (ds >= 1 && ds <= 5) { if (Math.abs(hParaDec(h) - hParaDec(oc)) < 1.5) bloqueado = true; } else if(h === oc) bloqueado = true; }); if (bloqueado) { opt.text = h + " ‚Äî (OCUPADO)"; opt.disabled = true; } else opt.text = h; select.add(opt); }); }
    function hParaDec(s) { let p = s.split(':'); return parseInt(p[0]) + (p[1] === "30" ? 0.5 : 0); }
    function formatarHora(d) { let h = Math.floor(d); let m = (d % 1 === 0) ? "00" : "30"; return `${h.toString().padStart(2, '0')}:${m}`; }
    function mudarStatus(key, status) { database.ref('agendamentos/' + key).update({ status: status }); }
    function abrirModalCadastro() { document.getElementById('modalCadastro').style.display = "flex"; }
    function fecharModais() { document.querySelectorAll('.modal').forEach(m => m.style.display = "none"); }
    function verDetalhes(jsonStr) { const d = JSON.parse(decodeURIComponent(jsonStr)); document.getElementById('detalheNome').innerText = d.nome; document.getElementById('detalheData').innerText = `Agendamento solicitado para ${d.data} √†s ${d.hora}`; const container = document.getElementById('detalhesNoiva'); container.innerHTML = `<div class=\"info-card-item\"><span class=\"info-card-label\">Instagram</span>${d.insta || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Cidade</span>${d.cidade || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Casamento</span>${d.casamento || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Estilo</span>${d.finalidade}</div><div class=\"info-card-item\"><span class=\"info-card-label\">CPF</span>${d.cpf || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Investimento</span>${d.orcamento || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Refer√™ncias?</span>${d.refs || '-'}</div><div class=\"info-card-item\"><span class=\"info-card-label\">Visitou Lojas?</span>${d.outras || '-'}</div><div class=\"info-card-item\" style=\"grid-column: span 2;\"><span class=\"info-card-label\">Benef√≠cio Primeira Visita</span>${d.beneficio || 'N√£o'}</div>`; document.getElementById('modalDetalhes').style.display = "flex"; }
    function salvarManual() { const d = { data: document.getElementById('m_data').value.split('-').reverse().join('/'), dataISO: document.getElementById('m_data').value, hora: document.getElementById('m_hora').value, nome: document.getElementById('m_nome').value + " (Interno)", tel: document.getElementById('m_tel').value, cpf: document.getElementById('m_cpf').value, cidade: document.getElementById('m_cidade').value, casamento: document.getElementById('m_casamento').value.split('-').reverse().join('/'), insta: document.getElementById('m_insta').value, finalidade: document.getElementById('m_finalidade').value, refs: document.getElementById('m_refs').value, outcast: document.getElementById('m_outras').value, orcamento: document.getElementById('m_orcamento').value, status: "confirmado", timestamp: new Date().toISOString() }; database.ref('agendamentos').push().set(d).then(() => { alert("Reserva confirmada!"); fecharModais(); document.getElementById('formManual').reset(); }); }
</script>
</body>
</html>